<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–¢–∞–º–∞–≥–æ—á—ñ AI</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f8ff;
      padding: 2rem;
      text-align: center;
    }
    .pet {
      font-size: 5rem;
      animation: wiggle 1s infinite alternate;
      margin: 1rem;
    }
    @keyframes wiggle {
      0% { transform: rotate(-5deg); }
      100% { transform: rotate(5deg); }
    }
    .status, .chat {
      margin-top: 1.5rem;
    }
    input, button {
      padding: 0.5rem;
      font-size: 1rem;
      margin: 0.2rem;
    }
    #chatLog {
      max-height: 150px;
      overflow-y: auto;
      margin-top: 0.5rem;
      border: 1px solid #ccc;
      padding: 0.5rem;
      background: #fff;
      text-align: left;
    }
  </style>
</head>
<body>

  <h1>üêæ –¢–∞–º–∞–≥–æ—á—ñ AI</h1>

  <div id="setup">
    <input id="nameInput" placeholder="–í–≤–µ–¥–∏ —ñ–º'—è..." />
    <button onclick="startGame()">–ü–æ—á–∞—Ç–∏</button>
  </div>

  <div id="game" style="display:none;">
    <h2 id="petName"></h2>
    <div class="pet" id="petFace">üò∫</div>

    <div class="status" id="status"></div>

    <button onclick="feed()">üçñ –ì–æ–¥—É–≤–∞—Ç–∏</button>
    <button onclick="play()">‚öΩ –ì—Ä–∞—Ç–∏</button>
    <button onclick="sleep()">üò¥ –°–ø–∞—Ç–∏</button>
    <button onclick="reset()">üîÑ –°–∫–∏–Ω—É—Ç–∏</button>

    <div class="chat">
      <h3>üí¨ –ì–æ–≤–æ—Ä–∏ –∑ –¢–∞–º–∞–≥–æ—á—ñ</h3>
      <input id="chatInput" placeholder="–ù–∞–ø–∏—à–∏ —â–æ—Å—å..." onkeydown="if(event.key==='Enter') talk()" />
      <button onclick="talk()">–°–∫–∞–∑–∞—Ç–∏</button>
      <div id="chatLog"></div>
    </div>
  </div>

  <script>
    let pet = null;

    const defaultPet = {
      name: "",
      hunger: 100,
      energy: 100,
      happiness: 100,
      age: 0,
      alive: true
    };

    function savePet() {
      localStorage.setItem("pet", JSON.stringify(pet));
    }

    function loadPet() {
      const saved = localStorage.getItem("pet");
      if (saved) {
        pet = JSON.parse(saved);
        return true;
      }
      return false;
    }

    function reset() {
      localStorage.removeItem("pet");
      location.reload();
    }

    function startGame() {
      const name = document.getElementById("nameInput").value.trim();
      if (!name) return alert("–í–≤–µ–¥–∏ —ñ–º'—è!");

      pet = { ...defaultPet, name };
      savePet();
      initGame();
    }

    function initGame() {
      document.getElementById("setup").style.display = "none";
      document.getElementById("game").style.display = "block";
      document.getElementById("petName").textContent = pet.name;
      updateStatus();

      setInterval(() => {
        if (!pet.alive) return;
        pet.hunger -= 2;
        pet.energy -= 1;
        pet.happiness -= 1;
        pet.age += 1;
        if (pet.hunger <= 0 || pet.energy <= 0 || pet.happiness <= 0) {
          pet.alive = false;
          document.getElementById("petFace").textContent = "üíÄ";
          speak(`${pet.name} –ø–æ–º–µ—Ä...`);
        }
        savePet();
        updateStatus();
      }, 5000);
    }

    function updateStatus() {
      const s = pet;
      document.getElementById("status").innerHTML =
        `–í—ñ–∫: ${s.age}<br>` +
        `–°–∏—Ç—ñ—Å—Ç—å: ${s.hunger}<br>` +
        `–ù–∞—Å—Ç—Ä—ñ–π: ${s.happiness}<br>` +
        `–ï–Ω–µ—Ä–≥—ñ—è: ${s.energy}<br>` +
        `–°—Ç–∞–Ω: ${s.alive ? "–∂–∏–≤–∏–π üü¢" : "–º–µ—Ä—Ç–≤–∏–π ‚ùå"}`;
    }

    function feed() {
      if (!pet.alive) return;
      pet.hunger = Math.min(pet.hunger + 20, 100);
      pet.happiness += 5;
      speak("–ú-–º-–º, —Å–º–∞—á–Ω–æ! üòã");
      savePet();
      updateStatus();
    }

    function play() {
      if (!pet.alive) return;
      if (pet.energy >= 10) {
        pet.happiness = Math.min(pet.happiness + 15, 100);
        pet.energy -= 10;
        pet.hunger -= 5;
        speak("–ë—É–ª–æ –≤–µ—Å–µ–ª–æ! ü§©");
      } else {
        speak("–Ø –∑–∞–Ω–∞–¥—Ç–æ –≤—Ç–æ–º–ª–µ–Ω–∏–π... ü•±");
      }
      savePet();
      updateStatus();
    }

    function sleep() {
      if (!pet.alive) return;
      pet.energy = Math.min(pet.energy + 25, 100);
      pet.hunger -= 10;
      speak("Zzz... üò¥");
      savePet();
      updateStatus();
    }

    function speak(text) {
      const log = document.getElementById("chatLog");
      const bubble = document.createElement("div");
      bubble.textContent = `üêæ ${pet.name}: ${text}`;
      log.appendChild(bubble);
      log.scrollTop = log.scrollHeight;
    }

    function talk() {
      const input = document.getElementById("chatInput");
      const userText = input.value.trim();
      if (!userText) return;
      input.value = "";

      const log = document.getElementById("chatLog");
      const userBubble = document.createElement("div");
      userBubble.textContent = `üë§ –¢–∏: ${userText}`;
      log.appendChild(userBubble);

      // "–§–µ–π–∫–æ–≤–∏–π AI", —Ä–µ–∞–≥—É—î –Ω–∞ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞
      let response = "–Ø –Ω–µ –∑–Ω–∞—é, —â–æ —Å–∫–∞–∑–∞—Ç–∏... ü§î";
      if (/–ø—Ä–∏–≤/i.test(userText)) response = "–ü—Ä–∏–≤—ñ—Ç, –¥—Ä—É–∂–µ! üëã";
      else if (/—è–∫ —Å–ø—Ä–∞–≤–∏/i.test(userText)) response = "–í—Å–µ —Å—É–ø–µ—Ä! –ê –≤ —Ç–µ–±–µ?";
      else if (/–≥–æ–ª–æ–¥–Ω/i.test(userText)) response = "–¢—Ä–æ—Ö–∏... ü•∫";
      else if (/–≥—Ä–∞—Ç–∏/i.test(userText)) response = "–û–±–æ–∂–Ω—é—é –≥—Ä–∞—Ç–∏—Å—è! ‚öΩ";
      else if (/—Å–ø–∞—Ç–∏/i.test(userText)) response = "–•–æ—á—É –ø—ñ–¥ –∫–æ–≤–¥—Ä—É... üò¥";
      else if (/–ª—é–±–∏—à/i.test(userText)) response = "–Ø –ª—é–±–ª—é —Ç–µ–±–µ ‚ù§Ô∏è";
      else if (/—Ç–∏ —Ö—Ç–æ/i.test(userText)) response = "–Ø —Ç–≤—ñ–π –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –¥—Ä—É–≥, –¢–∞–º–∞–≥–æ—á—ñ üêæ";

      speak(response);
      log.scrollTop = log.scrollHeight;
    }

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
    if (loadPet()) initGame();
  </script>

</body>
</html>
